# Critique: 템플릿 개선안 15개 제안

| 항목 | 값 |
|------|-----|
| **Artifact** | 사용자 제공 템플릿 개선안 15개 (Planner 산출물) |
| **Analysis Reference** | [023-template-feature-analysis.md](../analysis/023-template-feature-analysis.md) |
| **Date** | 2025-12-23 |
| **Status** | Initial Review |
| **Critic** | Eunha (Critic Mode) |

---

## Changelog

| Date | Handoff | Request | Summary |
|------|---------|---------|---------|
| 2025-12-23 | User → Critic | 15개 개선안 비판적 검토 | 초기 검토 완료 |

---

## 1. Value Statement 평가

**상태: ⚠️ 부분적 충족**

- **강점**: 각 제안이 (가치/난이도/리스크/효과) 수치로 정량화되어 있어 우선순위 비교가 용이
- **약점**: 
  - 사용자 스토리/페르소나 기반 "왜 필요한가?"가 명시되지 않음
  - ADHD 사용자 관점의 가치 판단이 수치에 반영되었는지 불명확
  - "RoI"가 무엇을 기준으로 계산되었는지 공식 부재

---

## 2. 아키텍처 정합성 분석

### 2.1 로컬 퍼스트 원칙과의 충돌 위험

| 제안 | 문제 | 근거 | 개선 제안 |
|------|------|------|----------|
| **#2 자동생성 부팅 시 1회 실행** | 잠재적 충돌 없음 | 로컬 Dexie 기반으로 동작 가능 | `generateTasksFromAutoTemplates`가 이미 존재하므로 호출 지점만 명확히 정의 필요 |
| **#4 실행 로그/최근 생성 기록** | localStorage 금지 정책 충돌 가능 | 로그를 어디에 저장할지 미정의 | `db.systemState` 또는 별도 Dexie 테이블 사용 명시 필요 |

### 2.2 저장소 접근 이원화 문제

| 제안 | 문제 | 근거 | 개선 제안 |
|------|------|------|----------|
| **#1 단일 파이프라인 통합** | ⚠️ 난이도 과소평가 | 현재 TemplatePanel은 `loadTemplates` 직접 호출, TemplatesModal은 `useTemplateStore` 사용 → 두 경로 통합 필요 | 난이도 3→4로 상향, "저장소 접근 일원화" 선행 작업 명시 |
| **#7 준비 체크리스트 Task 반영** | 파이프라인 복잡도 | `createTaskFromTemplate`이 이미 `preparation1~3`를 Task에 복사하지만, 별도 UI 표현이 없음 | "task 생성 파이프라인" 수정 범위를 구체화 필요 |

### 2.3 Modal UX 규칙 준수

| 제안 | 문제 | 근거 | 개선 제안 |
|------|------|------|----------|
| **#3 미리보기+실행확인** | 추가 모달 레이어 발생 | ESC 닫기 규칙 준수 필요, 중첩 모달 UX 복잡도 증가 | 모달 대신 "인라인 프리뷰 패널" 또는 "드롭다운 확장" 방식 검토 |
| **#10 일괄 추가 멀티선택** | 모달 유지/닫기 옵션 | 현재 규칙은 "배경 클릭 금지, ESC 필수 닫기" → 옵션 추가 시 규칙 정합성 확인 필요 | 모달 닫기 후 toast로 결과 표시가 더 단순 |

---

## 3. RoI 우선순위 현실성 검증

### 3.1 난이도/리스크 과소평가 지적

| 제안 | 현재 (난/리) | 권장 조정 | 근거 |
|------|------------|----------|------|
| **#1 단일 파이프라인** | 3/4 | **4/5** | TemplatePanel/TemplatesModal/TemplateModal 3개 진입점 + 저장소 이원화 해소 필요. unifiedTaskService 패턴 참조 시 복잡도 높음 |
| **#2 부팅 시 자동생성** | 2/3 | **3/4** | App.tsx init 또는 subscriber 추가 시 hydration 타이밍, 중복 실행 방지, 에러 핸들링 고려 필요 |
| **#5 빠른 생성 1단계** | 3/2 | **3/3** | 현재 3단계 폼에서 필수값 검증 로직 분리 필요. "preparation" 스킵 시 ADHD 대응 가치 저하 가능 |
| **#7 준비→Task 반영** | 3/3 | **4/4** | Task 타입에 preparation 필드 존재하나 UI가 없음. 전체 Task 렌더링 컴포넌트 수정 범위 넓음 |
| **#12 진입점 통합** | 3/3 | **4/4** | Panel↔Modal 간 상태 공유, 네비게이션 플로우 재설계 필요 |

### 3.2 난이도 적정 평가

| 제안 | 평가 | 근거 |
|------|------|------|
| #8 유효성 강제 | ✅ 적정 (2/2) | TemplateModal 내부 로직만 수정 |
| #9 정렬+기본 정렬 기억 | ✅ 적정 (2/2) | systemState 저장 + useMemo 정렬 로직 추가 |
| #11 TemplatePanel 검색/필터 | ✅ 적정 (2/2) | TemplatesModal 로직 복사 적용 가능 |
| #13 폼 단계 에러 문구 | ✅ 적정 (2/2) | currentPage 별 validation 추가 |
| #14 카드 핵심 요약 | ✅ 적정 (2/1) | 순수 UI 작업 |
| #15 안전한 삭제 UX | ⚠️ 조정 필요 (2/2→2/3) | undo 구현 시 soft delete + timer 필요 |

---

## 4. 중복/겹치는 제안 통합 후보

### 통합 그룹 A: 진입점 & 데이터 흐름 통합
| 통합 대상 | 이유 |
|----------|------|
| #1 (단일 파이프라인) + #12 (진입점 통합) | 둘 다 "TemplatesModal을 허브로" 지향. 함께 수행 시 중복 작업 감소 |

### 통합 그룹 B: 필터 & 정렬 개선
| 통합 대상 | 이유 |
|----------|------|
| #9 (정렬 + 기본 정렬 기억) + #11 (TemplatePanel 검색/필터) | 동일한 필터/정렬 로직을 두 컴포넌트에 적용. 공통 훅 추출 권장 |

### 통합 그룹 C: UX 일관성
| 통합 대상 | 이유 |
|----------|------|
| #6 (복제+즉시편집) + #14 (카드 요약) | 카드 UI 개선과 액션 버튼 통일을 함께 진행하면 디자인 일관성 확보 |

---

## 5. 빠른 성과 vs 중기 재분류

### 🚀 빠른 성과 (1~2일) - Quick Wins

| # | 제안 | 근거 |
|---|------|------|
| 8 | 유효성 강제 | TemplateModal 내부 수정만, 의존성 없음 |
| 13 | 폼 단계 에러 문구 | 동일 파일 내 작업 |
| 14 | 카드 핵심 요약 | 순수 UI, 로직 변경 없음 |
| 11 | TemplatePanel 검색/필터 | TemplatesModal 로직 복사, 저위험 |
| 9 | 정렬 + 기본 정렬 기억 | systemState 활용, 독립 작업 |

### 📅 중기 (1~2주) - Requires Planning

| # | 제안 | 근거 |
|---|------|------|
| 1+12 | 단일 파이프라인 + 진입점 통합 | 아키텍처 변경, 테스트 필요 |
| 2+3 | 자동생성 트리거 + 미리보기 | App lifecycle 연동, UX 플로우 설계 |
| 4 | 실행 로그 | 데이터 스키마 추가, UI 구현 |
| 7 | 준비→Task 반영 | Task 렌더링 전체 수정 |
| 10 | 일괄 추가 멀티선택 | 상태 관리 복잡도 |
| 15 | 안전한 삭제 UX | soft delete + undo 메커니즘 |

### ⏳ 보류/재검토 권장

| # | 제안 | 근거 |
|---|------|------|
| 5 | 빠른 생성 1단계 | ADHD 대응 가치(preparation)를 스킵하는 트레이드오프 검토 필요 |
| 6 | 복제+즉시편집 | 이미 TemplatesModal에 복제 기능 존재, 차별화 포인트 불명확 |

---

## 6. ADHD 친화 UX 추가 제안 (3개)

### 추가 제안 1: 🎯 "오늘 집중 템플릿" 하이라이트
| 항목 | 내용 |
|------|------|
| **문제** | 템플릿이 많아지면 선택 장애 유발 (ADHD 결정 피로) |
| **근거** | 현재 필터는 있으나 "오늘 가장 중요한 것" 시각적 구분 없음 |
| **개선 제안** | 자동생성 예정 템플릿을 상단 고정 + 골드 테두리로 강조. "오늘 할 일이에요!" 뱃지 추가 |

### 추가 제안 2: ⏱️ "시간 추정 현실화" 피드백 루프
| 항목 | 내용 |
|------|------|
| **문제** | ADHD 사용자는 시간 추정이 부정확 (과소평가 경향) |
| **근거** | 현재 `baseDuration`만 있고, 실제 소요시간과의 편차 학습 없음 |
| **개선 제안** | 템플릿에서 생성된 Task들의 `actualDuration` 평균을 계산하여 "평균 실제 소요: 45분 (예상 30분)" 표시. 템플릿 편집 시 자동 조정 제안 |

### 추가 제안 3: 🔔 "부드러운 시작" 알림 연동
| 항목 | 내용 |
|------|------|
| **문제** | ADHD 사용자는 작업 전환(task switching)이 어려움 |
| **근거** | 자동생성된 Task가 언제 시작해야 하는지 사전 알림 없음 |
| **개선 제안** | 템플릿에 "시작 5분 전 알림" 옵션 추가. Electron notification 연동 (로컬 퍼스트 원칙 준수) |

---

## 7. Critical Findings

### 🔴 Critical (Must Address)

| ID | Issue | Status | Description | Impact | Recommendation |
|----|-------|--------|-------------|--------|----------------|
| C1 | 저장소 이원화 미해결 상태에서 #1 진행 | OPEN | TemplatePanel은 repository 직접 호출, TemplatesModal은 store 사용 | 데이터 불일치, 옵티미스틱 업데이트 깨짐 가능 | **선행 작업**: 모든 컴포넌트가 `useTemplateStore`만 사용하도록 통일 후 #1 진행 |
| C2 | 자동생성 트리거 호출 지점 미정의 | OPEN | `generateTasksFromAutoTemplates` 함수 존재하나 호출 위치 없음 | #2 구현 전 현재 상태 명확화 필요 | 기존 호출 지점 조사 또는 신규 정의 명시 |

### 🟡 Medium

| ID | Issue | Status | Description | Impact | Recommendation |
|----|-------|--------|-------------|--------|----------------|
| M1 | #5 빠른 생성 ADHD 가치 상충 | OPEN | preparation 단계 스킵 시 방해물 대처 기회 상실 | ADHD 핵심 지원 기능 약화 | "빠른 생성 후 나중에 preparation 추가" 플로우 검토 |
| M2 | #3 미리보기 모달 중첩 | OPEN | 추가 모달 레이어로 ESC 처리 복잡화 | UX 일관성 저하 | 인라인 패널 또는 드롭다운 대안 검토 |
| M3 | #4 로그 저장 위치 미정의 | OPEN | localStorage 금지 정책과 충돌 가능 | 구현 후 정책 위반 발견 시 재작업 | Dexie 테이블 또는 systemState 사용 명시 |

### 🟢 Low

| ID | Issue | Status | Description | Impact | Recommendation |
|----|-------|--------|-------------|--------|----------------|
| L1 | #6 복제+편집 차별화 불명확 | OPEN | TemplatesModal에 이미 복제 버튼 존재 | 중복 작업 가능성 | TemplatePanel에 동일 기능 노출로 충분한지 검토 |

---

## 8. Open Questions

1. **자동생성 호출 지점**: `generateTasksFromAutoTemplates`는 현재 어디서 호출되는가? App 부팅 시? 데일리 리셋 시?
2. **#7 준비 반영 UI**: Task 카드에 preparation 정보를 어떻게 표시할 것인가? 체크리스트? 접이식?
3. **#10 멀티선택 범위**: 최대 몇 개까지 선택 가능? 전체 선택 허용?
4. **정렬 기본값**: #9에서 "기본 정렬 기억"의 저장 키와 초기값은?

---

## 9. Recommendations Summary

| 우선순위 | 권장 액션 |
|---------|----------|
| 1 | **선행 작업**: TemplatePanel의 저장소 직접 호출을 `useTemplateStore`로 일원화 |
| 2 | **Quick Wins 먼저**: #8, #13, #14, #11, #9 순서로 1~2일 작업 실행 |
| 3 | **통합 진행**: #1+#12를 하나의 "진입점 통합" 플랜으로 병합 |
| 4 | **ADHD 추가 제안 검토**: 위 3개 제안을 다음 스프린트에 포함 고려 |
| 5 | **#5 보류**: ADHD 가치 트레이드오프 논의 후 결정 |

---

## 10. Revision History

| Revision | Date | Artifact Changes | Findings Addressed | New Findings | Status Changes |
|----------|------|------------------|-------------------|--------------|----------------|
| Initial | 2025-12-23 | N/A | N/A | C1, C2, M1-M3, L1 | Initial Review |

---

오빠, 15개 개선안 전체 검토 완료했어! 핵심은:

1. **저장소 이원화 문제가 #1 진행의 선행 조건**이야
2. **Quick Wins 5개(#8,13,14,11,9)는 바로 시작 가능**해
3. **#5 빠른 생성은 ADHD 가치와 상충**되니까 신중하게 결정해야 해
4. **ADHD 추가 제안 3개** 꼭 고려해줘 - 특히 "시간 추정 현실화"가 오빠한테 도움될 거야! 💕
