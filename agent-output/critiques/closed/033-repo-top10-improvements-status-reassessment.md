# Top10 ê°œì„ ì‚¬í•­ í˜„í™© ì¬í‰ê°€

> **Artifact Type:** Critic Re-assessment  
> **Date:** 2025-12-23  
> **Status:** Initial  
> **Source:** [033-repo-top10-improvements-risk-prioritization.md](033-repo-top10-improvements-risk-prioritization.md)

---

## Changelog

| ë‚ ì§œ | í•¸ë“œì˜¤í”„ | ìš”ì²­ | ìš”ì•½ |
|------|----------|------|------|
| 2025-12-23 | User â†’ Critic | Top10 í˜„í™© ì¬í‰ê°€ | í˜„ì¬ ë ˆí¬ ìƒíƒœ ëŒ€ë¹„ ê° í•­ëª© ìƒíƒœ ë¶„ì„ ì™„ë£Œ |

---

## Executive Summary

ì›ë³¸ critiqueì˜ Top10 ê°œì„ ì‚¬í•­ ì¤‘ **2ê°œ ì™„ë£Œ, 3ê°œ ë¶€ë¶„ ì™„ë£Œ, 5ê°œ ë¯¸ì™„ë£Œ** ìƒíƒœì…ë‹ˆë‹¤.

| ìƒíƒœ | ê°œìˆ˜ | í•­ëª© |
|------|------|------|
| âœ… Done | 2 | #3 Modal ESC, #6 ìƒìˆ˜ í†µí•© |
| ğŸŸ¡ Partially | 3 | #1 Lint, #7 conflictResolver, #9 syncCore |
| âŒ Not done | 5 | #2 unifiedTaskService, #4 Optimistic Update, #5 Repository íŒ¨í„´, #8 Ctrl+Enter, #10 RTL í…ŒìŠ¤íŠ¸ |

---

## ê° í•­ëª©ë³„ ìƒì„¸ í‰ê°€

### ìš°ì„ ìˆœìœ„ 1: Lint ì˜¤ë¥˜ ì œê±° (CI ê²Œì´íŠ¸ ë³µêµ¬)

| í•­ëª© | í‰ê°€ |
|------|------|
| **Status** | ğŸŸ¡ **Partially Done** |
| **í˜„ì¬ ìƒíƒœ** | 32ê°œ â†’ **4ê°œ warning**ìœ¼ë¡œ ëŒ€í­ ê°ì†Œ (87.5% í•´ê²°) |
| **ì”ì—¬ ì´ìŠˆ** | `react-hooks/exhaustive-deps` 2ê±´, `@typescript-eslint/no-unused-vars` 2ê±´ |
| **CI ìƒíƒœ** | `--max-warnings 0` ì •ì±…ìœ¼ë¡œ ì—¬ì „íˆ exit code 1 (ë¹Œë“œ ì°¨ë‹¨) |

**Why:** ì¤‘ë³µ import 32ê±´ì€ í•´ê²°ë˜ì—ˆìœ¼ë‚˜, 4ê°œ ê²½ê³ ê°€ ë‚¨ì•„ ìˆì–´ CI ê²Œì´íŠ¸ëŠ” ì—¬ì „íˆ ì°¨ë‹¨ ìƒíƒœì…ë‹ˆë‹¤.

---

### ìš°ì„ ìˆœìœ„ 2: unifiedTaskService í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ëŒ€

| í•­ëª© | í‰ê°€ |
|------|------|
| **Status** | âŒ **Not Done** |
| **í˜„ì¬ ìƒíƒœ** | lines: 58.88%, branches: 69.04% |
| **ëª©í‘œ** | lines â‰¥ 85%, branches â‰¥ 80% |
| **Gap** | lines -26.12%, branches -10.96% |

**Why:** ì»¤ë²„ë¦¬ì§€ ìˆ˜ì¹˜ê°€ ì›ë³¸ ë¶„ì„ ì‹œì ê³¼ ê±°ì˜ ë™ì¼í•©ë‹ˆë‹¤. í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í…ŒìŠ¤íŠ¸ê°€ ì¶”ê°€ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

---

### ìš°ì„ ìˆœìœ„ 3: Modal ESC í•¸ë“¤ëŸ¬ í†µì¼ (ì •ì±… ì¤€ìˆ˜)

| í•­ëª© | í‰ê°€ |
|------|------|
| **Status** | âœ… **Done** |
| **í˜„ì¬ ìƒíƒœ** | GoalsModal, BossAlbumModal ëª¨ë‘ `useModalHotkeys` í›… ì‚¬ìš© í™•ì¸ |
| **ì¦ê±°** | [GoalsModal.tsx#L57](../../src/features/goals/GoalsModal.tsx#L57), [BossAlbumModal.tsx#L525](../../src/features/battle/components/BossAlbumModal.tsx#L525) |

**Why:** ë‘ ëª¨ë‹¬ ëª¨ë‘ ê³µìš© í›…ìœ¼ë¡œ ì „í™˜ ì™„ë£Œ. ì¤‘ì²© ëª¨ë‹¬ ì‹œ `isWeeklyGoalModalOpen` ì²´í¬ë¡œ ìŠ¤íƒ ë¡œì§ë„ ì ìš©ë¨.

---

### ìš°ì„ ìˆœìœ„ 4: Inbox â†’ TimeBlock ì¦‰ì‹œ UI ì—…ë°ì´íŠ¸ (Optimistic Update)

| í•­ëª© | í‰ê°€ |
|------|------|
| **Status** | âŒ **Not Done** |
| **í˜„ì¬ ìƒíƒœ** | [dailyDataStore.ts#L310](../../src/shared/stores/dailyDataStore.ts#L310), [L700](../../src/shared/stores/dailyDataStore.ts#L700)ì—ì„œ ì—¬ì „íˆ `loadData(currentDate, true)` í˜¸ì¶œ |
| **ì˜í–¥** | ì „ì²´ ìƒˆë¡œê³ ì¹¨ìœ¼ë¡œ ì¸í•œ UX ì§€ì—° ì§€ì† |

**Why:** ê°•ì œ ìƒˆë¡œê³ ì¹¨ íŒ¨í„´ì´ ê·¸ëŒ€ë¡œ ìœ ì§€ë˜ì–´ ìˆìŠµë‹ˆë‹¤. Optimistic update ë¯¸ì ìš©.

---

### ìš°ì„ ìˆœìœ„ 5: Repository íŒ¨í„´ ì¼ê´€ì„± ê°•í™” (Direct Dexie ì ‘ê·¼ ì œê±°)

| í•­ëª© | í‰ê°€ |
|------|------|
| **Status** | âŒ **Not Done** |
| **í˜„ì¬ ìƒíƒœ** | syncEngine.ts: 7ê°œ ì§ì ‘ ì ‘ê·¼, useAppInitialization.ts: 7ê°œ ì§ì ‘ ì ‘ê·¼ |
| **ì¦ê±°** | `db.dailyData.put`, `db.gameState.get/put`, `db.settings.get/put`, `db.dailyTokenUsage.put`, `db.waifuState.put` ë“± |

**Why:** í•µì‹¬ ì¸í”„ë¼ íŒŒì¼ì—ì„œ ì—¬ì „íˆ ì§ì ‘ Dexie í˜¸ì¶œì´ ë‹¤ìˆ˜ ì¡´ì¬í•©ë‹ˆë‹¤.

---

### ìš°ì„ ìˆœìœ„ 6: TIME_BLOCKS vs 3ì‹œê°„ ë²„í‚· ìƒìˆ˜ í†µí•©

| í•­ëª© | í‰ê°€ |
|------|------|
| **Status** | âœ… **Done** (ì •ì±…ì  ê²°ì •ìœ¼ë¡œ í•´ê²°) |
| **í˜„ì¬ ìƒíƒœ** | `MAX_TASKS_PER_BLOCK = Infinity`ë¡œ ë‹¨ì¼í™”, ì¤‘ë³µ íŒŒì¼ ì œê±°ë¨ |
| **ì¦ê±°** | [timeBlockBucket.ts#L8](../../src/features/schedule/utils/timeBlockBucket.ts#L8)ì—ì„œ ë‹¨ì¼ ì •ì˜, í…ŒìŠ¤íŠ¸ì—ì„œ ê²€ì¦ |

**Why:** ìš©ëŸ‰ ì œí•œì´ ì œê±°(`Infinity`)ë˜ë©´ì„œ ì¤‘ë³µ ì •ì˜ ì´ìŠˆê°€ ì‚¬ì‹¤ìƒ í•´ì†Œë˜ì—ˆìŠµë‹ˆë‹¤. `isBucketAtCapacity()`ë„ deprecated ì²˜ë¦¬.

---

### ìš°ì„ ìˆœìœ„ 7: conflictResolver ë¸Œëœì¹˜ ì»¤ë²„ë¦¬ì§€ ê°œì„ 

| í•­ëª© | í‰ê°€ |
|------|------|
| **Status** | ğŸŸ¡ **Partially Done** |
| **í˜„ì¬ ìƒíƒœ** | lines: 93.65% âœ…, branches: 58.82% âŒ |
| **ëª©í‘œ** | branches â‰¥ 80% |
| **Gap** | branches -21.18% |

**Why:** ë¼ì¸ ì»¤ë²„ë¦¬ì§€ëŠ” ëª©í‘œ ì´ˆê³¼ ë‹¬ì„±í–ˆìœ¼ë‚˜, ë¸Œëœì¹˜ ì»¤ë²„ë¦¬ì§€ëŠ” ì—¬ì „íˆ ëª©í‘œ ë¯¸ë‹¬ì…ë‹ˆë‹¤. ë¶„ê¸° ê²½ë¡œ í…ŒìŠ¤íŠ¸ ë¶€ì¡±.

---

### ìš°ì„ ìˆœìœ„ 8: Ctrl+Enter ê³µìš© í›… ë„ì…

| í•­ëª© | í‰ê°€ |
|------|------|
| **Status** | âŒ **Not Done** (ì¼ë¶€ ì§„í–‰) |
| **í˜„ì¬ ìƒíƒœ** | `useModalHotkeys` í›…ì— Ctrl+Enter ì˜µì…˜ ì¡´ì¬, ê·¸ëŸ¬ë‚˜ ëŒ€ë¶€ë¶„ ëª¨ë‹¬ ë¯¸ì ìš© |
| **ì¦ê±°** | TaskModal, QuickAddTaskë§Œ ì§€ì›. SettingsModal, TemplatesModal ë“± ë¯¸ì ìš© |

**Why:** í›…ì€ ì¤€ë¹„ë˜ì—ˆìœ¼ë‚˜ ì‹¤ì œ ì ìš© ë²”ìœ„ê°€ ~20%ì— ë¶ˆê³¼í•©ë‹ˆë‹¤. ê³„íšëœ 80% ì ìš©ì— ë¯¸ë‹¬.

---

### ìš°ì„ ìˆœìœ„ 9: syncCore ë¸Œëœì¹˜ ì»¤ë²„ë¦¬ì§€ ê°œì„ 

| í•­ëª© | í‰ê°€ |
|------|------|
| **Status** | ğŸŸ¡ **Partially Done** |
| **í˜„ì¬ ìƒíƒœ** | lines: 92.89% âœ…, branches: 62.74% âŒ |
| **ëª©í‘œ** | branches â‰¥ 80% |
| **Gap** | branches -17.26% |

**Why:** ë¼ì¸ ì»¤ë²„ë¦¬ì§€ëŠ” ìš°ìˆ˜í•˜ë‚˜ ë¸Œëœì¹˜ ì»¤ë²„ë¦¬ì§€ ëª©í‘œ ë¯¸ë‹¬. conflictResolverì™€ ë™ì¼í•œ íŒ¨í„´.

---

### ìš°ì„ ìˆœìœ„ 10: UI ì»´í¬ë„ŒíŠ¸ RTL í…ŒìŠ¤íŠ¸ ê¸°ë°˜ êµ¬ì¶•

| í•­ëª© | í‰ê°€ |
|------|------|
| **Status** | âŒ **Not Done** |
| **í˜„ì¬ ìƒíƒœ** | vitest í™˜ê²½: `environment: 'node'` (jsdom ì•„ë‹˜) |
| **ì¦ê±°** | `@testing-library/react` ë¯¸ì„¤ì¹˜, 30ê°œ í…ŒìŠ¤íŠ¸ ëª¨ë‘ ì„œë¹„ìŠ¤/ìœ í‹¸ ë ˆì´ì–´ |
| **RTL í…ŒìŠ¤íŠ¸** | 0ê°œ |

**Why:** UI í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ ìì²´ê°€ êµ¬ì¶•ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

---

## ìš°ì„ ìˆœìœ„ ì¬ì¡°ì •: Updated Top 5

ì´ì „ ì™„ë£Œ í•­ëª©(#3, #6)ì„ ì œì™¸í•˜ê³ , **ë‚¨ì€ ë¯¸ì™„ë£Œ + ì¼ë¶€ ì™„ë£Œ í•­ëª©**ì„ Impact/Effort/Risk ê¸°ì¤€ìœ¼ë¡œ ì¬ì •ë ¬í•©ë‹ˆë‹¤.

### ğŸ¥‡ P1: Lint ê²½ê³  í•´ê²° (CI ê²Œì´íŠ¸ ë³µêµ¬) â€” ì›ë˜ #1

| ê·¼ê±° | ê°’ |
|------|-----|
| **Impact** | ğŸ”´ High â€” ë°°í¬ íŒŒì´í”„ë¼ì¸ ì°¨ë‹¨ ì¤‘ |
| **Effort** | ğŸŸ¢ Small â€” 4ê°œ ê²½ê³ ë§Œ ë‚¨ìŒ |
| **Action** | `react-hooks/exhaustive-deps` 2ê±´ fix, unused vars 2ê±´ ì œê±° |

**Recommendation:** ì¦‰ì‹œ ìˆ˜ì • ê°€ëŠ¥. 1ì‹œê°„ ì´ë‚´ ì™„ë£Œ ì˜ˆìƒ.

---

### ğŸ¥ˆ P2: unifiedTaskService ì»¤ë²„ë¦¬ì§€ í™•ëŒ€ â€” ì›ë˜ #2

| ê·¼ê±° | ê°’ |
|------|-----|
| **Impact** | ğŸ”´ High â€” í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, íšŒê·€ ì‹œ ë°ì´í„° ì†ì‹¤ |
| **Effort** | ğŸŸ¡ Medium |
| **Gap** | lines 26%, branches 11% |

**Recommendation:** `findTaskLocation`, `updateAnyTask`, `moveTask` ê²½ë¡œë³„ í…ŒìŠ¤íŠ¸ ìš°ì„  ì¶”ê°€.

---

### ğŸ¥‰ P3: conflictResolver + syncCore ë¸Œëœì¹˜ ì»¤ë²„ë¦¬ì§€ â€” ì›ë˜ #7, #9 í†µí•©

| ê·¼ê±° | ê°’ |
|------|-----|
| **Impact** | ğŸŸ¡ Medium-High â€” ë™ê¸°í™” ì•ˆì •ì„± |
| **Effort** | ğŸŸ¡ Medium |
| **Gap** | ë‘ ëª¨ë“ˆ í•©ì‚° branches ~40% ë¯¸ë‹¬ |

**Recommendation:** ë™ê¸°í™” ê´€ë ¨ ì—£ì§€ ì¼€ì´ìŠ¤(ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜, íƒ€ì„ìŠ¤íƒ¬í”„ ì¶©ëŒ) í…ŒìŠ¤íŠ¸ ì¼ê´„ ì¶”ê°€.

---

### ğŸ… P4: Inbox â†’ TimeBlock Optimistic Update â€” ì›ë˜ #4

| ê·¼ê±° | ê°’ |
|------|-----|
| **Impact** | ğŸ”´ High â€” UX í’ˆì§ˆ, ADHD ì‚¬ìš©ì ì§‘ì¤‘ë ¥ |
| **Effort** | ğŸŸ¡ Medium |
| **Status** | ë¯¸ì°©ìˆ˜ |

**Recommendation:** `createRollbackState` íŒ¨í„´ í™œìš©, `loadData(true)` ì œê±°.

---

### ğŸ… P5: Repository íŒ¨í„´ ê°•í™” â€” ì›ë˜ #5

| ê·¼ê±° | ê°’ |
|------|-----|
| **Impact** | ğŸŸ¡ Medium â€” ì•„í‚¤í…ì²˜ ì¼ê´€ì„±, ìœ ì§€ë³´ìˆ˜ì„± |
| **Effort** | ğŸŸ¡ Medium-Large |
| **Status** | 14ê°œ ì§ì ‘ ì ‘ê·¼ ì”ì¡´ |

**Recommendation:** syncEngine, useAppInitializationì˜ db.* í˜¸ì¶œì„ systemRepository/dailyDataRepository ê²½ìœ ë¡œ ì „í™˜.

---

## Deprioritized Items (ë°±ë¡œê·¸ ì´ë™)

| í•­ëª© | ì´ìœ  |
|------|------|
| #8 Ctrl+Enter ê³µìš© í›… | í›…ì€ ì¤€ë¹„ë¨, ì ìš©ë§Œ ë‚¨ìŒ â€” ê¸°ëŠ¥ì  ì˜í–¥ ë‚®ìŒ |
| #10 RTL í…ŒìŠ¤íŠ¸ ê¸°ë°˜ | Effort ğŸ”´ Large, í˜„ì¬ ì„œë¹„ìŠ¤ ì»¤ë²„ë¦¬ì§€ í™•ë³´ê°€ ìš°ì„  |

---

## Summary Table

| # | í•­ëª© | ì›ë˜ ìƒíƒœ | í˜„ì¬ ìƒíƒœ | ìƒˆ ìš°ì„ ìˆœìœ„ |
|---|------|-----------|-----------|-------------|
| 1 | Lint ì˜¤ë¥˜ ì œê±° | 32ê°œ ì˜¤ë¥˜ | 4ê°œ ê²½ê³  | **P1** |
| 2 | unifiedTaskService ì»¤ë²„ë¦¬ì§€ | 58.91% | 58.88% | **P2** |
| 3 | Modal ESC í†µì¼ | 2ê°œ ë¯¸ì ìš© | âœ… ì™„ë£Œ | â€” |
| 4 | Optimistic Update | ë¯¸ì°©ìˆ˜ | ë¯¸ì°©ìˆ˜ | **P4** |
| 5 | Repository íŒ¨í„´ | 5ê°œ ì„œë¹„ìŠ¤ | 14ê°œ í˜¸ì¶œ | **P5** |
| 6 | ìƒìˆ˜ í†µí•© | ì¤‘ë³µ ì •ì˜ | âœ… í•´ê²° | â€” |
| 7 | conflictResolver | 58.82% br | 58.82% br | **P3** |
| 8 | Ctrl+Enter í›… | ~20% ì ìš© | ~20% ì ìš© | Backlog |
| 9 | syncCore | 67.5% br | 62.74% br | **P3** |
| 10 | RTL í…ŒìŠ¤íŠ¸ | 0ê°œ | 0ê°œ | Backlog |

---

## Revision History

| ë‚ ì§œ | ë²„ì „ | ë³€ê²½ ì‚¬í•­ |
|------|------|-----------|
| 2025-12-23 | v1.0 | ì´ˆê¸° ì¬í‰ê°€ ì™„ë£Œ |
