# Inbox 목적 정합(빠른 캡처 → 정리 → 스케줄 전환) RoI 제안서 (15개)

| 항목 | 값 |
|------|-----|
| Plan ID | plan-2025-12-23-inbox-roi-15 |
| Target Release | **1.0.170 (제안; 현재 package.json = 1.0.169)** |
| Epic Alignment | Inbox를 “빠른 캡처 → 정리 → 스케줄 전환” 파이프라인으로 강화(ADHD 친화) |
| Date | 2025-12-23 |
| Status | Proposed |
| Inputs | `agent-output/analysis/010-inbox-scope-analysis.md` + 기존 Inbox/스케줄 store/repo 흐름(Repository pattern, `unifiedTaskService`, EventBus) |

---

## Value Statement and Business Objective
As a TimeBlock 사용자(특히 ADHD 성향 사용자), I want 작업을 **생각난 순간에 즉시 캡처**하고, **인지부하가 낮은 방식으로 정리**한 다음, **확신을 가지고 스케줄로 전환**할 수 있도록 해서, so that “해야 할 일은 많은데 어디서부터?” 상태를 줄이고 실행까지 이어지게 한다.

---

## 범위/정책(필수 준수)
- UI/Frontend(React) 중심 제안서(코드 작성/변경은 본 문서 범위 밖).
- **Repository pattern** 유지: store → repository 경유로 영속화(직접 Dexie 접근 금지).
- 작업 위치가 불명확할 수 있는 조작은 **`unifiedTaskService` 경로**를 우선 고려.
- **localStorage 금지(theme 예외만)**: “기억/정렬/필터/마지막 사용” 등 지속 상태는 Dexie `systemState`.
- **하드코딩 기본값 금지**: 기본값은 `src/shared/constants/defaults.ts`에서만.
- **Optional chaining**으로 중첩 접근 안전화.
- **모달 UX 정책**: 배경 클릭 닫기 금지, **ESC로 닫기 필수**(가능하면 `useModalEscapeClose`).

---

## RoI 평가 방식(간단)
- **임팩트(Impact)**: 사용자 체감(속도/불안 감소/실수 비용 감소/스케줄 전환률)
- **개발비용(Cost)**: 난이도(낮/중/높) + 변경 범위(파일 수/상호작용/회귀 가능성)
- **리스크(Risk)**: 데이터 정합성(특히 inbox↔daily 이동), sync/이벤트, UX 혼란(선택 과다)
- **예상 RoI**: 높/중/낮 (Impact가 Cost+Risk 대비 얼마나 큰지)

---

## Top 5 추천(우선순위)
1) **(UX#1) “트리아지 모드”**: 빠른 정리(키보드 중심) + 선택 피로 감소
2) **(F#3) 한 번에 스케줄 전환: “다음 빈 슬롯에 배치”**
3) **(UX#2) 이동/배치 Undo(되돌리기) 표준화**: 실수 비용 최소화
4) **(F#6) 인박스 배치 프리뷰(어디로 갈지 예측)**
5) **(F#1) 초고속 캡처 입력(한 줄 파서 + 최소 입력)**

> 이유: 모두 “빠른 캡처→정리→전환”을 직접 단축하고, ADHD 친화(즉시성/예측가능성/실수 복구)에 직결되며, repository/store 정합성 리스크를 통제 가능한 범위에서 가져갈 수 있음.

---

# A) 추가기능 10개 (Fast Capture → Organize → Schedule)

## F1. 초고속 캡처: 한 줄 입력 파서 확장(시간/태그/저항도/기한)
- 문제/가치: 캡처가 느리면 “생각이 날아감”. 입력이 길어질수록 ADHD에서 이탈 확률 증가.
- 사용자 플로우:
  - (1) Quick Add / Inbox 상단 입력에 한 줄로 작성 → (2) 실시간 파싱 미리보기(칩) → (3) Enter로 저장(인박스) → (4) 필요 시 ‘세부 편집’로만 확장.
- 구현 난이도: 중
- 리스크: 파싱 규칙이 복잡해지면 예측가능성이 떨어짐(“내가 쓴 대로 안 됨”).
- Impact/Cost/Risk: Impact 높 / Cost 중 / Risk 중
- 예상 RoI: 높

## F2. “캡처 후 10초 정리” 마이크로 트리아지(저마찰 3버튼)
- 문제/가치: 캡처는 했지만 정리 진입이 어렵다(다음 행동이 안 보임).
- 사용자 플로우:
  - 저장 직후 작은 인라인 패널: `다음에 할 일` / `언젠가` / `스케줄에 넣기` 3가지 중 하나만 선택 → 선택에 따라 인박스 필터/상태가 자동 설정.
- 구현 난이도: 중
- 리스크: 상태 개념 추가가 “새로운 규칙 학습”이 될 수 있음(라벨/툴팁 최소화 필요).
- Impact/Cost/Risk: Impact 중~높 / Cost 중 / Risk 중
- 예상 RoI: 중~높

## F3. 스케줄 전환 단축: “다음 빈 슬롯에 배치” (1클릭)
- 문제/가치: 스케줄로 옮기려면 시간대를 고르는 순간 결정 피로가 생김.
- 사용자 플로우:
  - 인박스 카드에서 `다음 빈 시간에 배치` → 자동으로 오늘의 가장 빠른 빈 타임블록을 찾고 배치 → 즉시 스케줄에 표시.
- 구현 난이도: 중
- 리스크: “어디에 들어갔는지” 놓치면 불신이 생김 → 배치 후 하이라이트/스크롤 이동 필요.
- Impact/Cost/Risk: Impact 높 / Cost 중 / Risk 중
- 예상 RoI: 높

## F4. “오늘/내일” 2단 배치 버튼(결정 단순화)
- 문제/가치: 세밀한 시간 선택 없이도 ‘오늘 처리’와 ‘내일로 미루기’를 빠르게 하고 싶음.
- 사용자 플로우:
  - 인박스 카드: `오늘` / `내일` 버튼 → 선택 시 “다음 빈 슬롯” 로직으로 해당 날짜에 배치.
- 구현 난이도: 중
- 리스크: 날짜 전환 시 dailyDataStore 로딩/optimistic 이동에서 회귀 가능.
- Impact/Cost/Risk: Impact 중~높 / Cost 중 / Risk 중
- 예상 RoI: 중~높

## F5. 배치 규칙 프리셋(“가벼운 일/어려운 일/짧은 일”)
- 문제/가치: ‘언제 배치할지’ 결정을 규칙으로 외주화하면 인지부하 감소.
- 사용자 플로우:
  - 인박스 상단에 2~3개 프리셋: 예) `가벼운 일 먼저`, `어려운 일 오전`, `짧은 일부터` → 프리셋 클릭 후 추천 블록 리스트가 뜸 → 선택하면 배치.
- 구현 난이도: 중~높
- 리스크: 추천이 자주 틀리면 신뢰가 급락 → “추천은 제안, 결정은 사용자”로 유지.
- Impact/Cost/Risk: Impact 중 / Cost 중~높 / Risk 중
- 예상 RoI: 중

## F6. 배치 프리뷰(예측가능성): “어디로 갈지” 미리 보여주기
- 문제/가치: 전환을 눌렀는데 어디로 갔는지 모르겠다 → 불안/재클릭/중복.
- 사용자 플로우:
  - 인박스 카드에서 배치 버튼 hover/포커스 시: “배치될 블록” 미리보기(시간/블록명) → 확인 후 실행.
- 구현 난이도: 중
- 리스크: 프리뷰가 실제 결과와 달라지면 더 혼란(동기화/락/충돌) → 실패 시 이유를 즉시 표시.
- Impact/Cost/Risk: Impact 높 / Cost 중 / Risk 중
- 예상 RoI: 높

## F7. 일괄 트리아지(배치/보류/삭제) 멀티선택
- 문제/가치: 인박스가 쌓이면 “정리하기”가 너무 큰 일처럼 느껴짐.
- 사용자 플로우:
  - (1) `정리 모드` 진입 → (2) 체크로 다중 선택 → (3) `오늘에 배치` / `내일` / `언젠가` / `삭제` 한 번에 실행.
- 구현 난이도: 중~높
- 리스크: 일괄 처리에서 실수 비용이 큼 → Undo 필수(UX#2와 결합).
- Impact/Cost/Risk: Impact 중~높 / Cost 중~높 / Risk 중~높
- 예상 RoI: 중

## F8. “저항도/최근” 기반 자동 정렬 + 기억(systemState)
- 문제/가치: 무엇부터 정리할지 모르겠다(우선순위 판단 피로).
- 사용자 플로우:
  - 인박스 진입 시 기본 정렬을 `최근` 또는 `저항도`로 설정 → 사용자가 바꾸면 그 선택을 systemState에 기억 → 다음에도 동일.
- 구현 난이도: 낮~중
- 리스크: 자동 정렬이 사용자 기대와 다르면 불편 → 정렬 드롭다운은 항상 눈에 보이게.
- Impact/Cost/Risk: Impact 중 / Cost 낮~중 / Risk 낮
- 예상 RoI: 높

## F9. 인박스 “스팸 방지” 가드레일: 중복 캡처 감지(로컬)
- 문제/가치: ADHD에서 반복 캡처로 같은 일이 여러 번 생겨 정리가 더 어려워짐.
- 사용자 플로우:
  - 새 작업 저장 시 최근 N개 제목 유사도/완전일치 검사 → “비슷한 항목이 있어요” 안내 → `그대로 추가` / `기존 열기`.
- 구현 난이도: 중
- 리스크: 오탐이 많으면 방해 → 기본은 조용한 배지/옵트인.
- Impact/Cost/Risk: Impact 중 / Cost 중 / Risk 중
- 예상 RoI: 중

## F10. “스케줄에서 다시 인박스로” 빠른 되돌리기(명확한 버튼)
- 문제/가치: 일정이 과밀해지면 다시 비우고 싶은데 경로가 불명확하면 유지가 안 됨.
- 사용자 플로우:
  - 스케줄 TaskCard에 `인박스로` 버튼(또는 컨텍스트 메뉴) → timeBlock null로 전환 → 인박스에서 즉시 확인.
- 구현 난이도: 중
- 리스크: inbox↔daily 이동 정합성(이벤트/optimistic) 회귀 가능.
- Impact/Cost/Risk: Impact 중~높 / Cost 중 / Risk 중
- 예상 RoI: 중~높

---

# B) UI/UX 개선 5개 (인지부하↓, 즉시성↑, 예측가능성↑)

## UX1. “트리아지 모드”(집중 화면): 한 번에 하나씩 정리(키보드 중심)
- 문제/가치: 리스트를 보면 압도되어 아무것도 못 함. ‘한 개씩 처리’가 ADHD에 매우 효과적.
- 사용자 플로우:
  - (1) 인박스에서 `정리 시작` → (2) 상단에 현재 1개만 크게 표시 → (3) 단축키로 `배치/보류/완료/삭제/다음` → (4) 10개 처리 후 “오늘 스케줄 요약” 표시.
- 구현 난이도: 중
- 리스크: 단축키가 많아지면 학습 비용↑ → 화면에 항상 3~5개 핵심 힌트만 노출.
- Impact/Cost/Risk: Impact 높 / Cost 중 / Risk 중
- 예상 RoI: 높

## UX2. 이동/배치/삭제 Undo 표준화(실수 비용 최소화)
- 문제/가치: 실수 후 복구가 어렵다고 느끼면 사용자가 정리를 피함.
- 사용자 플로우:
  - 배치/삭제 직후 토스트: `되돌리기(Undo)` → 누르면 원래 위치로 복구(인박스/블록).
- 구현 난이도: 중
- 리스크: 되돌리기 구현이 repo/store 정합성과 충돌하면 ‘유령 task’ 가능 → 단일 파이프라인(일관된 store API) 필요.
- Impact/Cost/Risk: Impact 높 / Cost 중 / Risk 중~높
- 예상 RoI: 높

## UX3. 빈 상태/정체 상태를 “다음 행동 1개”로 정리
- 문제/가치: 선택지가 많으면 멈춘다. 빈 화면에서도 다음 행동이 명확해야 함.
- 사용자 플로우:
  - 인박스가 비었으면: `한 줄로 캡처하기` 단일 CTA.
  - 너무 많이 쌓였으면: `정리 모드 시작` 단일 CTA(보조 링크로만 “필터/정렬”).
- 구현 난이도: 낮
- 리스크: 과도한 CTA로 산만해질 수 있음 → 강한 CTA 1개 원칙.
- Impact/Cost/Risk: Impact 중 / Cost 낮 / Risk 낮
- 예상 RoI: 높

## UX4. 필터/정렬을 “칩 3개”로 축약(Progressive Disclosure)
- 문제/가치: 필터가 많을수록 인지부하↑. 자주 쓰는 것만 먼저 보여야 함.
- 사용자 플로우:
  - 상단 칩: `전체 / 최근 / 저항도` + `더보기`에서 고급 옵션.
- 구현 난이도: 낮~중
- 리스크: 기존 사용자 습관이 깨질 수 있음 → 기본은 현행 유지, “간단 모드” 토글로 단계적 도입.
- Impact/Cost/Risk: Impact 중 / Cost 낮~중 / Risk 낮~중
- 예상 RoI: 중~높

## UX5. 배치 후 “즉시 확인” 피드백(하이라이트/스크롤/배지)
- 문제/가치: 전환 성공 여부가 불명확하면 불안으로 이어짐(재클릭/중복/포기).
- 사용자 플로우:
  - 인박스에서 배치 실행 → 해당 작업 카드가 스케줄에서 잠깐 강조 표시 + 그 위치로 스크롤(가능한 범위).
- 구현 난이도: 중
- 리스크: 스케줄 뷰 종류가 많으면(타임라인/버킷/포커스) 일관 적용이 필요.
- Impact/Cost/Risk: Impact 중~높 / Cost 중 / Risk 중
- 예상 RoI: 중~높

---

## 구현 메모(어디를 건드릴지 “방향”만)
- UI entry points: InboxTab/InboxModal/QuickAddTask.
- Data flow 핵심: inboxStore ↔ dailyDataStore ↔ inboxRepository, 그리고 `inbox:taskRemoved` 이벤트/Subscriber.
- 회귀 리스크가 큰 구간: inbox↔block 이동(optimistic + rollback), 멀티선택 일괄 처리, Undo.

---

## OPEN QUESTION (승인 필요)
- F2/F7에서 “정리 상태(예: 다음/언젠가)”를 **새 필드로 저장**할지, **기존 태그/메타**로 표현할지? (새 필드는 데이터/동기화 영향이 커서, RoI가 떨어질 수 있음)
- F3/F4의 “다음 빈 슬롯” 기준은 (1) 빈 블록 우선 vs (2) 현재 블록 우선 vs (3) 사용자 설정(하지만 옵션 과다 위험) 중 무엇이 좋을지?

---

## Version / Release Artifacts (계획 수준)
- Target Release는 **1.0.170 (제안)** 으로 잡았지만, 다른 계획/PR과 충돌하면 patch를 조정한다.
- 실제 구현 착수 시, 릴리즈 운영 정책에 맞춰 `package.json` 버전 및 변경 요약(릴리즈 노트/문서)을 정합성 있게 업데이트한다.
