# 인박스(Inbox) 개선 제안 최종본 (15개: 추가기능 10 + UX 개선 5)

## Plan Header
- Plan ID: plan-2025-12-23-inbox-improvements-15-final
- Target Release: **1.0.171+ (P0/P1 Quick Wins부터 순차 적용)**
- Epic Alignment: “인박스 → 스케줄 배치까지의 마찰을 줄여, 특히 ADHD 사용자에게 ‘즉시 이해/즉시 확인/실수 복구’가 가능한 작업 흐름 제공”
- Status: Final (Critic 반영)

## Changelog
- 2025-12-23: Critic 피드백 반영 최종 재작성. 중복 통합(F#1+F#2, F#3+F#4, F#6+기존 UX#5) 적용 + Top5 우선순위 재정렬(P0 Undo 포함) + OPEN QUESTION 2개 권장 결정 포함.
- 2025-12-23: 통합으로 비는 슬롯을 보강하기 위해 **신규 UX#5** 추가(총 15개 유지).

---

## Value Statement and Business Objective
As a 사용자(특히 ADHD 사용자), I want 인박스에서 해야 할 일을 “빠르게 캡처하고, 한 번에 배치하고, 결과를 즉시 확인하며, 실수하면 되돌릴 수” 있어서, so that 계획/실행 흐름이 끊기지 않고 정리 부담(인지 부하)을 최소화할 수 있다.

---

## 우선순위 Top 5 (Critic 재정렬 기준)
> 기준: **P0 Undo(안전장치)** 포함 + 즉시성/피드백 루프/실수 복구를 가장 먼저.

1) **[P0] UX#1 Undo 기반 안전장치(마지막 1회) + 일관된 Snackbar**
2) **[P0] F#1 Capture + Preview (F#1+F#2 통합)**
3) **[P0] F#2 Today/Tomorrow/NextSlot 원탭 배치 (F#3+F#4 통합, 빈 슬롯 정책 포함)**
4) **[P0] F#3 Triage 모드(키보드 중심 정리 루프)**
5) **[P0] F#4 Placement Preview + Feedback (F#6+UX#5 통합)**

---

## OPEN QUESTION → 권장 결정(제안서에 포함)

### 결정 A — “정리 상태”를 새 필드로 저장 vs 태그/메타로 표현
- **권장 결정: 태그/메타(기존 필드/확장 가능한 metadata)로 시작**
- 이유(리스크 우선):
  - 새 필드는 **Firebase Sync/마이그레이션/구버전 호환** 비용이 커지고, dual-storage(인박스/스케줄) 경로별로 필드 정합성 이슈가 생기기 쉬움.
  - 태그/메타는 “기능 실험 → 실제 사용 패턴 확인 → 필요 시 스키마 승격” 단계적 접근이 가능.
- 운영 원칙(가드레일):
  - 태그 키는 고정된 네임스페이스(예: `inbox:state=triaged`)로 제한해 난립을 방지.

### 결정 B — “빈 슬롯(NextSlot)” 기준 정책
- **권장 결정: ‘가장 가까운 미래의 빈 TimeBlock 시작’을 기본으로, 없으면 ‘내일 첫 블록’으로 폴백**
- 상세 정책(사용자 예측 가능성 우선):
  1) 현재 시간이 특정 TimeBlock 내부라면 **그 블록의 시작 slot(또는 현재 slot)**을 기본 추천.
  2) 그렇지 않으면 **오늘 남아있는 가장 가까운 미래 블록의 시작**을 추천.
  3) 오늘 남은 블록이 없으면 **내일 첫 블록 시작**을 추천.
  4) 잠금/금지 정책이 있으면(예: locked block) 해당 블록은 건너뛰고 다음 후보로.
- UX 문구 원칙: “다음 빈 슬롯”을 **‘다음 블록’/‘오늘 남은 첫 블록’**처럼 사용자가 이해할 수 있는 문장으로 표시.

---

## 제안 목록 (총 15개)
- 점수 표기: Impact/Cost/Risk는 1(낮음)~5(높음)
- 예상 RoI: $\text{RoI} = \dfrac{Impact}{Cost + Risk}$ (값이 클수록 유리)
- 리스크 강조 키워드: **Firebase / dual-storage / eventBus**

---

## A) 추가기능 10개

### F#1 (통합: F#1+F#2) — Capture + Preview: 빠른 입력 + 즉시 미리보기(배치/태그/중요도)
- 핵심: 입력 직후 “이 작업이 어디로 갈지”를 바로 보여줘서 불확실성 제거
- RoI: Impact 5 / Cost 3 / Risk 3 → 예상 RoI 0.83
- 구현 난이도: 중
- 리스크(특히):
  - dual-storage: 미리보기와 실제 저장 위치가 어긋나면 신뢰 하락
  - eventBus: 미리보기 확정/취소 시 이벤트 폭주/중복 처리 주의
  - Firebase: 메타/태그를 추가로 붙일 경우 sync payload 증가(단, 새 필드 추가는 지양)

### F#2 (통합: F#3+F#4) — Today/Tomorrow/NextSlot 원탭 배치 + “빈 슬롯(NextSlot)” 정책 내장
- 핵심: 선택 부담을 버튼 3개로 압축(오늘/내일/다음)
- RoI: Impact 5 / Cost 2 / Risk 3 → 예상 RoI 1.00
- 구현 난이도: 중하
- 리스크(특히):
  - dual-storage: inbox→schedule 이동 시 중복/유령 task(둘 다 존재) 위험
  - eventBus: 이동 이벤트 수신 순서/누락 시 UI 즉시 반영 실패
  - Firebase: 이동이 잦아지면 동기화 빈도 증가(스파이크 방지 필요)

### F#3 — Triage 모드(키보드 중심): 한 항목씩 처리(배치/보류/삭제) 루프
- 핵심: “하나 처리 → 다음” 단일 흐름으로 산만함 감소
- RoI: Impact 4 / Cost 3 / Risk 3 → 예상 RoI 0.67
- 구현 난이도: 중
- 리스크(특히):
  - eventBus: 키보드 액션이 빠르게 연속 발생할 때 state 경쟁 조건
  - dual-storage: triage 중 이동/삭제가 섞이면 정합성/롤백 복잡도 상승

### F#4 (통합: F#6+UX#5) — Placement Preview + Feedback: 배치 전 프리뷰 + 배치 후 “어디로 갔는지” 확인
- 핵심: ‘방금 뭐 했지?’를 막는 즉시 피드백(스낵바/하이라이트/스크롤)
- RoI: Impact 5 / Cost 3 / Risk 2 → 예상 RoI 1.00
- 구현 난이도: 중
- 리스크(특히):
  - eventBus: “배치 완료” 신호를 단일 이벤트로 표준화하지 않으면 화면별 불일치
  - Firebase: 프리뷰는 로컬 상태여야 함(원격/영속화에 섞이면 비용/리스크 증가)

### F#5 — 빠른 분류 템플릿(개인 룰): 제목/태그 기반 자동 추천(수동 확정)
- 핵심: 반복 분류(회의/운동/연락)를 자동화하되, 사용자가 확정
- RoI: Impact 4 / Cost 3 / Risk 4 → 예상 RoI 0.57
- 구현 난이도: 중상
- 리스크(특히):
  - Firebase: 룰 저장/동기화 모델이 커질 수 있음
  - dual-storage: 자동 추천이 잘못된 저장 위치로 이어지면 복구 비용 증가(Undo 필수)

### F#6 — 다중 선택 + 일괄 액션(배치/태그/완료/삭제)
- 핵심: “한 번에 10개 정리” 같은 큰 정리 작업을 빠르게
- RoI: Impact 3 / Cost 3 / Risk 3 → 예상 RoI 0.50
- 구현 난이도: 중
- 리스크(특히):
  - dual-storage: batch 이동 중 일부 실패 시 부분 성공/롤백 UX가 어려움
  - Firebase: 일괄 업데이트가 burst를 만들 수 있어 rate/비용 이슈

### F#7 — 자연어 빠른 속성 입력(최소): `@내일`, `#태그`, `!중요` 파서(옵션)
- 핵심: 마우스 없이도 속성 입력 가능(선호 사용자용)
- RoI: Impact 3 / Cost 2 / Risk 2 → 예상 RoI 0.75
- 구현 난이도: 하중
- 리스크(특히):
  - Firebase/dual-storage/eventBus: 파싱 결과가 저장 모델/이동 이벤트에 영향을 주므로 검증/롤백(Undo) 필요

### F#8 — “최근 사용한 배치” 원클릭 재사용(Last action memory)
- 핵심: 방금 쓴 시간대/태그 조합을 다음 항목에 재사용
- RoI: Impact 3 / Cost 2 / Risk 2 → 예상 RoI 0.75
- 구현 난이도: 하
- 리스크(특히):
  - systemState 저장 위치 정책 준수(로컬스토리지 금지)
  - Firebase/dual-storage/eventBus: 동기화 대상이 아니므로 로컬(시스템 상태) 한정이 안전. 이동 이벤트와 결합되면 오작동 위험(낮음)

### F#9 — 인박스 “정리 상태” 라벨(태그/메타 기반): New / Triaged / Parked
- 핵심: 정리 진행도를 보이게 해서 ‘끝이 안 보이는 느낌’ 감소
- RoI: Impact 3 / Cost 2 / Risk 3 → 예상 RoI 0.60
- 구현 난이도: 하중
- 리스크(특히):
  - Firebase: 상태 난립(태그 폭발) 방지 필요
  - dual-storage: 스케줄로 이동된 task에 라벨이 남을지 정책 필요(기본은 제거 권장)

### F#10 (보강 신규) — “보류(Snooze)” 최소 기능: 2h/내일/다음주로 숨김(단, 완전 삭제 아님)
- 핵심: 지금 못 하는 일을 안전하게 밀어두기(죄책감/잡음 감소)
- RoI: Impact 4 / Cost 3 / Risk 4 → 예상 RoI 0.57
- 구현 난이도: 중
- 리스크(특히):
  - Firebase: 보류 상태가 동기화되면 다른 기기에서 노출/숨김 불일치 가능
  - eventBus: 필터링 기반 숨김은 “존재하지만 안 보이는 데이터”를 늘려 디버깅 난이도 상승(정책/표시 필수)

---

## B) UX 개선 5개

### UX#1 (P0) — Undo 기반 안전장치(마지막 1회) + 스낵바 표준(복구 가능함을 항상 보여주기)
- 핵심: 실수 공포를 제거하면 사용 빈도가 급상승(ADHD 친화 핵심)
- RoI: Impact 5 / Cost 3 / Risk 4 → 예상 RoI 0.71
- 구현 난이도: 중상
- 리스크(특히):
  - dual-storage: Undo가 “어느 저장소에서 어떤 변화를 되돌리는지” 명확해야 함
  - eventBus: Undo/Redo 성격 이벤트를 남발하면 상태 경합/무한 루프 위험
  - Firebase: Undo는 가능하면 **로컬(메모리) 한정**으로 시작(원격까지 되돌리는 설계는 비용 큼)

### UX#2 — 인박스 정보 밀도 가드레일: 기본은 단순(제목 1줄 + 핵심 배지), 상세는 펼치기
- 핵심: 스캔 비용을 낮추고 과자극(시각 소음) 줄이기
- RoI: Impact 4 / Cost 2 / Risk 1 → 예상 RoI 1.33
- 구현 난이도: 하
- 리스크(특히):
  - Firebase/dual-storage/eventBus 영향 낮음(표시 계층 중심)

### UX#3 — “다음 행동(Next Action)”을 1개로 강제: 각 아이템에 주 액션 1개만 강조
- 핵심: 선택 장애를 줄이는 progressive disclosure
- RoI: Impact 4 / Cost 2 / Risk 1 → 예상 RoI 1.33
- 구현 난이도: 하
- 리스크(특히):
  - Firebase/dual-storage/eventBus 영향 낮음(행동 노출 우선순위 문제)
  - UX 일관성: 화면마다 다른 주 액션이면 혼란(규칙/컴포넌트 표준화 필요)

### UX#4 — 키보드 단축키/포커스 루프 표준화(ESC 닫기, Enter 확정, ↑↓ 이동)
- 핵심: 손이 덜 움직이면 정리 속도가 빨라짐
- RoI: Impact 3 / Cost 2 / Risk 2 → 예상 RoI 0.75
- 구현 난이도: 중하
- 리스크(특히):
  - eventBus: 단축키 액션이 여러 모달/패널과 충돌 가능(우선순위 스택 필요)
  - Firebase/dual-storage 영향은 낮음(입력 경로 표준화 수준)

### UX#5 (보강 신규) — “정리 진행도” 미니 HUD: 남은 개수 + 오늘 처리 목표(선택) + 완료 시 축하 최소 피드백
- 핵심: 끝이 보이면 중간 이탈이 줄어듦(과자극 없이 ‘진행 중’만 유지)
- RoI: Impact 4 / Cost 2 / Risk 2 → 예상 RoI 1.00
- 구현 난이도: 하중
- 리스크(특히):
  - Firebase: 목표/카운트는 동기화하지 않고 로컬 기준(현재 화면/날짜)으로 시작하는 게 안전
  - dual-storage: 인박스/스케줄 이동을 카운트에 즉시 반영해야 “숫자 불일치”가 안 생김
  - eventBus: 이동/삭제/완료 이벤트에 반응하는 집계 로직이 중복 구독되면 값 튐(단일 계산 경로 필요)

---

## 나머지 우선순위 제안(P1/P2)
- P1 후보: F#5, F#6, F#9, UX#2, UX#3
- P2 후보: F#7, F#8, F#10, UX#4

(Top5 외 항목은 사용자 데이터/사용 빈도 관측 후 재정렬 권장)

---

## ADHD 친화 체크리스트 (마지막 점검용)
1) **Undo/복구 경로가 항상 보이는가?** (실수 공포 제거)
2) **한 화면에 ‘주 행동’이 1개로 느껴지는가?** (선택 장애 최소화)
3) **즉시 피드백이 있는가?** (배치 후 “어디로 갔는지” 문장/하이라이트)
4) **키보드만으로 80% 작업이 가능한가?** (Triage 모드/포커스 루프)
5) **정보 밀도가 과하지 않은가?** (기본 단순 + 필요 시 펼치기)
